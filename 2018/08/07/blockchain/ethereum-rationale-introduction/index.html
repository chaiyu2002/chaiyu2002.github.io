<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>区块链：以太坊的工作原理（转）--阅读笔记 | IT老兵驿站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="区块链：以太坊的工作原理–阅读笔记。">
<meta property="og:type" content="article">
<meta property="og:title" content="区块链：以太坊的工作原理（转）--阅读笔记">
<meta property="og:url" content="https://www.oxysun.cn/2018/08/07/blockchain/ethereum-rationale-introduction/index.html">
<meta property="og:site_name" content="IT老兵驿站">
<meta property="og:description" content="区块链：以太坊的工作原理–阅读笔记。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_statemachine.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_statetransition.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_chain.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_fork.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_canonical.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_account.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_transationset.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_blockchain.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_codehash.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_merkletree.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_roothash.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_nonce.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_blockheader.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_hashchange.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_chunk.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_price.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_gas.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_refunder.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_reward.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_transationmessage.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_%20bridge.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_excuted.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_blockheaders.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_math.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_transition.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_%20intrinsicgas.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_upfront.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_gasremaining.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_evm.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_evmstorage.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_algorithm.png">
<meta property="og:image" content="https://lilymoana.github.io/asset/eth_attack.png">
<meta property="article:published_time" content="2018-08-07T06:47:00.000Z">
<meta property="article:modified_time" content="2023-06-07T11:57:01.833Z">
<meta property="article:author" content="荒于嬉">
<meta property="article:tag" content="区块链">
<meta property="article:tag" content="以太坊">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lilymoana.github.io/asset/eth_statemachine.png">
  
    <link rel="alternate" href="/atom.xml" title="IT老兵驿站" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">IT老兵驿站</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">一个IT老兵的驿站</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS 订阅"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜索"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://www.oxysun.cn"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-blockchain/ethereum-rationale-introduction" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2018/08/07/blockchain/ethereum-rationale-introduction/" class="article-date">
  <time class="dt-published" datetime="2018-08-07T06:47:00.000Z" itemprop="datePublished">2018-08-07</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Blockchain/">Blockchain</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      区块链：以太坊的工作原理（转）--阅读笔记
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>区块链：以太坊的工作原理–阅读笔记。</p>
<span id="more"></span>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>找到一篇写的很好的对以太坊的介绍，6月21日阅读了一遍，并且进行了转帖，今天感觉还有很多内容没有读明白，开始第二遍研究，记录一些笔记。当然，会对原文中的一些有点问题的格式进行一下调整。</p>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p>这篇文章主要讲解以太坊的基本原理，对技术感兴趣的朋友可以看看。</p>
<p>翻译作者: <a target="_blank" rel="noopener" href="https://lilymoana.github.io/">许莉</a><br>原文地址：<a target="_blank" rel="noopener" href="https://medium.com/@preethikasireddy/how-does-ethereum-work-anyway-22d1df506369">How does Ethereum work, anyway?</a></p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>不管你们知不知道以太坊（Ethereum blockchain）是什么，但是你们大概都听说过以太坊。最近在新闻里出现过很多次，包括一些专业杂志的封面，但是如果你们对以太坊到底是什么没有一个基本的了解的话，看这些文章就会感觉跟看天书一样。 所以，什么是以太坊？本质上，就是一个保存数字交易永久记录的公共数据库。重要的是，这个数据库不需要任何中央权威机构来维持和保护它。相反的它以一个“无信任”的交易系统来运行—<strong>一个个体在不需要信任任何第三方或对方的情况下进行点对点交易的架构</strong>。（PS：加了标红，感觉这句话需要着重理解）</p>
<p>依然感到很困惑？这就是这篇文章存在的理由。我的目标是在技术层面来解释以太坊的工作原理，但是不会出现很复杂的数学问题或看起来很可怕的公式。即使你不是一个程序员，我希望你看完之后最起码对技术有个更好的认识。如果有些部分技术性太强不好理解，这是非常正常的，真的没有必要完全理解每一个小细节。我建议只要宏观的理解一下事物就行了。</p>
<p>这篇文章中的很多议点都是以太坊黄皮书中讨论过的概念的细分。我添加了我自己的解释和图表使理解以太坊更加简单一点。那些足够勇敢的人可以挑战一下技术，去阅读一下以太坊的黄皮书。</p>
<p>好了，让我们开始吧！</p>
<h2 id="区块链定义"><a href="#区块链定义" class="headerlink" title="区块链定义"></a>区块链定义</h2><p>区块链就是一个**具有共享状态的密码性安全交易的单机(cryptographically secure transactional singleton machine with shared-state)**。[1]这有点长，是吧？让我们将它分开来看：</p>
<ul>
<li><strong>“密码性安全(Cryptographically secure)”</strong>是指用一个很难被解开的复杂数学机制算法来保证数字货币生产的安全性。将它想象成类似于防火墙的这种。它们使得欺骗系统近乎是一个不可能的事情（比如：构造一笔假的交易，消除一笔交易等等）。</li>
<li><strong>“交易的单机(Transactional singleton machine)”</strong>是指只有一个权威的机器实例为系统中产生的交易负责任。换句话说，只有一个全球真相是大家所相信的。</li>
<li><strong>“具有共享状态(With shared-state)”</strong>是指在这台机器上存储的状态是共享的，对每个人都是开放的。</li>
</ul>
<p>以太坊实现了区块链的这个范例。</p>
<p>PS：这段概念说的有些绕，理解起来有点费劲。对这里面的<strong>singleton machine with shared-state</strong>不是太理解<strong>。</strong>同时发现了以太坊总是在强调一个概念，就是state。</p>
<h2 id="以太坊模型说明"><a href="#以太坊模型说明" class="headerlink" title="以太坊模型说明"></a>以太坊模型说明</h2><p>以太坊的本质就是一个**基于交易的状态机(transaction-based state machine)**。（PS：比特币不也是这样吗？）在计算机科学中，一个 状态机是指可以读取一系列的输入，然后根据这些输入，会转换成一个新的状态出来的东西。<br><img src="https://lilymoana.github.io/asset/eth_statemachine.png"></p>
<p>根据以太坊的状态机，我们从**创世纪状态(genesis state)**开始。这差不多类似于一片空白的石板，在网络中还没有任何交易的产生状态。当交易被执行后，这个创世纪状态就会转变成最终状态。在任何时刻，这个最终状态都代表着以太坊当前的状态。<br><img src="https://lilymoana.github.io/asset/eth_statetransition.png"></p>
<p>以太坊的状态有百万个交易。这些交易都被“组团”到一个区块中。一个区块包含了一系列的交易，每个区块都与它的前一个区块链接起来。<br><img src="https://lilymoana.github.io/asset/eth_chain.png"></p>
<p>为了让一个状态转换成下一个状态，交易必须是有效的。<strong>为了让一个交易被认为是有效的，它必须要经过一个验证过程，此过程也就是挖矿</strong>。挖矿就是一组节点（即电脑）用它们的计算资源来创建一个包含有效交易的区块出来。</p>
<p>任何在网络上宣称自己是矿工的节点都可以尝试创建和验证区块。世界各地的很多矿工都在同一时间创建和验证区块。每个矿工在提交一个区块到区块链上的时候都会提供一个数学机制的“证明”，这个证明就像一个保证：如果这个证明存在，那么这个区块一定是有效的。</p>
<p>为了让一个区块添加到主链上，一个矿工必须要比其他矿工更快的提供出这个“证明”。通过矿工提供的一个数学机制的“证明”来证实每个区块的过程称之为**工作量证明(proof of work)**。</p>
<p>证实了一个新区块的矿工都会被奖励一定价值的奖赏。奖赏是什么？以太坊使用一种内在数字代币—**以太币(Ether)**作为奖赏。每次矿工证明了一个新区块，那么就会产生一个新的以太币并被奖励给矿工。</p>
<p>你也许会在想：什么能确保每个人都只在区块的同一条链上呢？我们怎么能确定不会存在一部分矿工创建一个他们自己的链呢？</p>
<p>前面，我们定义了区块链就是一个<strong>具有共享状态的交易单机</strong>。使用这个定义，我们可以知道正确的当前状态是一个全球真相，所有人都必须要接受它。拥有多个状态（或多个链）会摧毁这个系统，因为它在哪个是正确状态的问题上不可能得到统一结果。如果链分叉了，你有可能在一条链上拥有10个币，一条链上拥有20个币，另一条链上拥有40个币。在这种场景下，是没有办法确定哪个链才是最”有效的“。</p>
<p>不论什么时候只要多个路径产生了，一个”分叉“就会出现。我们通常都想避免分叉，因为它们会破坏系统，强制人们去选择哪条链是他们相信的链。<br><img src="https://lilymoana.github.io/asset/eth_fork.png"></p>
<p>为了确定哪个路径才是最有效的以及防止多条链的产生，以太坊使用了一个叫做<strong>“GHOST协议(GHOST protocol)”</strong>的数学机制。</p>
<blockquote>
<p><strong>GHOST</strong> &#x3D; <strong>Greedy Heaviest Observed Subtree</strong></p>
</blockquote>
<p>简单来说，GHOST协议就是让我们必须选择一个在其上完成计算最多的路径。一个方法确定路径就是使用最近一个区块（叶子区块）的区块号，区块号代表着当前路径上总的区块数（不包含创世纪区块）。区块号越大，路径就会越长，就说明越多的挖矿算力被消耗在此路径上以达到叶子区块。使用这种推理就可以允许我们赞同当前状态的权威版本。<br><img src="https://lilymoana.github.io/asset/eth_canonical.png"></p>
<p>PS：以上是总体的一个概念。</p>
<hr>
<p>现在你大概对区块链是什么有个理性的认识，让我们在再深入地了解一下以太坊系统主要组成部分：</p>
<ul>
<li>账户(accounts)</li>
<li>状态(state)</li>
<li>损耗和费用(gas and fees)</li>
<li>交易(transactions)</li>
<li>区块(blocks)</li>
<li>交易执行(transaction execution)</li>
<li>挖矿(mining)</li>
<li>工作量证明(proof of work)</li>
</ul>
<p>在开始之前需要注意的是：每当我说某某的Hash， 我指的都是<a target="_blank" rel="noopener" href="https://ethereum.stackexchange.com/questions/550/which-cryptographic-hash-function-does-ethereum-use">KECCAK-256</a> hash, 以太坊就是使用这个Hash算法。</p>
<h2 id="账户"><a href="#账户" class="headerlink" title="账户"></a>账户</h2><p>以太坊的全局“共享状态”是有很多小对象（账户）来组成的，这些账户可以通过消息传递来与对方进行交互。每个账户都有一个与之关联的**状态(state)<strong>和一个20字节的</strong>地址(address)**。在以太坊中一个地址是160位的标识符，用来识别账户。（PS：这个状态又是怎么呈现的呢？外部拥有账户是有一个余额的概念，那么合约账户呢？怎么呈现当前的状态呢？需要检索以前所有和这个合约发生过关系的交易？）</p>
<p>两种不同类型的账户：</p>
<ul>
<li>外部拥有的账户，被私钥控制且没有任何代码与之关联</li>
<li>合约账户，被它们的合约代码控制且有代码与之关联<br><img src="https://lilymoana.github.io/asset/eth_account.png"></li>
</ul>
<h3 id="外部拥有账户与合约账户的比较"><a href="#外部拥有账户与合约账户的比较" class="headerlink" title="外部拥有账户与合约账户的比较"></a>外部拥有账户与合约账户的比较</h3><p>理解外部拥有账户和合约账户的基本区别是很重要的。一个外部拥有账户可以通过创建和用自己的私钥来对交易进行签名，来发送消息给另一个外部拥有账户或合约账户。在两个外部拥有账户之间传送的消息只是一个简单的价值转移。但是从外部拥有账户到合约账户的消息会激活合约账户的代码，允许它执行各种动作。（比如转移代币，写入内部存储，挖出一个新代币，执行一些运算，创建一个新的合约等等）。</p>
<p>不像外部拥有账户，合约账户不可以自己发起一个交易。相反，合约账户只有在接收到一个交易之后(从一个外部拥有账户或另一个合约账户处)，为了响应此交易而触发一个交易。我们将会在“交易和消息”章节来了解关于合约与合约之间的通信。<br><img src="https://lilymoana.github.io/asset/eth_transationset.png"></p>
<p><strong>因此，在以太坊上任何的动作，总是被外部拥有账户触发的交易所发动的。</strong><br><img src="https://lilymoana.github.io/asset/eth_blockchain.png"></p>
<h3 id="账户状态"><a href="#账户状态" class="headerlink" title="账户状态"></a>账户状态</h3><p>账户状态有四个组成部分，不论账户类型是什么，都存在这四个组成部分：</p>
<ul>
<li>nonce：如果账户是一个外部拥有账户，nonce代表从此账户地址发送的交易序号。如果账户是一个合约账户，nonce代表此账户创建的合约序号</li>
<li>balance： 此地址拥有Wei的数量。1Ether&#x3D;10^18Wei</li>
<li>storageRoot： Merkle Patricia树的根节点Hash值（我们后面在解释Merkle树）。Merkle树会将此账户存储内容的Hash值进行编码，默认是空值</li>
<li>codeHash：此账户EVM（以太坊虚拟机，后面细说）代码的hash值。对于合约账户，就是被Hash的代码并作为codeHash保存。对于外部拥有账户，codeHash域是一个空字符串的Hash值</li>
</ul>
<p>（PS：这个地方存在几个问题：</p>
<ol>
<li>storageRoot和codeHash存储的都是hash值，那么原本的内容被存在哪里？</li>
<li>合约代码会发生改变吗？代码里面的状态值是怎样体现改变的？</li>
<li>账户的唯一性是由nonce来确定的吗？）</li>
</ol>
<ul>
<li><img src="https://lilymoana.github.io/asset/eth_codehash.png"></li>
</ul>
<p>（PS：账户的信息又是怎么保存在区块链上呢？）</p>
<h3 id="世界状态"><a href="#世界状态" class="headerlink" title="世界状态"></a>世界状态</h3><p>好了，我们知道了以太坊的全局状态就是由账户地址和账户状态组成的一个映射。这个映射被保存在一个叫做Merkle Patricia树的数据结构中</p>
<p>Merkle Tree（也被叫做Merkle trie）是一种由一系列节点组成的二叉树，这些节点包括：</p>
<ul>
<li>在树底的大量叶子节点，这些叶子节点包含了源数据</li>
<li>一系列的中间节点，这些节点是两个子节点的Hash值</li>
<li>一个根节点，同样是两个子节点的Hash值，代表着整棵树</li>
<li><img src="https://lilymoana.github.io/asset/eth_merkletree.png"></li>
</ul>
<p>树底的数据是通过分开我们想要保存到<strong>chunks</strong>的数据产生的，然后将<strong>chunks</strong>分成<strong>buckets</strong>，再然后获取每个<strong>bucket</strong>的hash值并一直重复直到最后只剩下一个Hash：根Hash。</p>
<p>PS：这段话翻译得不好，原文是：</p>
<blockquote>
<p>The data at the bottom of the tree is generated by splitting the data that we want to store into <em>chunks</em>, then splitting the chunks into <em>buckets</em>, and then taking the hash of each bucket and repeating the same process until the total number of hashes remaining becomes only one: <strong>the root hash.</strong></p>
</blockquote>
<p>不是分开，是把我们想要保存的数据分隔开（splitting），保存到chunks上，然后再分隔chunks到bucket上。这是两个组织数据的单位。不过怎么体现在区块上呢？<br><img src="https://lilymoana.github.io/asset/eth_roothash.png"></p>
<p>这棵树要求存在里面的值（value）都有一个对应的key。从树的根节点开始，key会告诉你顺着哪个子节点可以获得对应的值，这个值存在叶子节点。在以太坊中，key&#x2F;value是地址和与地址相关联的账户之间状态的映射，包括每个账户的balance, nonce, codeHash和storageRoot（storageRoot自己就是一颗树）。<br><img src="https://lilymoana.github.io/asset/eth_nonce.png"></p>
<p>（PS：到这里明白了，账户信息是保存在state树中的）</p>
<p>同样的树结构也用来存储交易和收据。更具体的说，每个块都有一个**头(header)**，头中保存了三个Merkle树结构的根节点Hash，三个Merkle树分别为：</p>
<ul>
<li>状态树</li>
<li>交易树</li>
<li>收据树<br><img src="https://lilymoana.github.io/asset/eth_blockheader.png"></li>
</ul>
<p>Merkle树中存储信息的高效性在以太坊的“轻客户端”和“轻节点”中相当的有用。记住区块链就是一群节点来维持的。广泛的说，有两种节点类型：全节点和轻节点。</p>
<p>全节点通过下载整条链来进行同步，从创世纪块到当前块，执行其中包含的所有交易。通常，矿工会存储全节点，因为他们在挖矿过程中需要全节点。也有可能下载一个全节点而不用执行所有的交易。无论如何，一个全节点包含了整个链。（PS：为什么要执行交易呢？交易的结果状态没有被记录吗？）</p>
<p>不过除非一个节点需要执行所有的交易或轻松访问历史数据，不然没必要保存整条链。这就是轻节点概念的来源。<strong>比起下载和存储整个链以及执行其中所有的交易，轻节点仅仅下载链的头，从创世纪块到当前块的头，不执行任何的交易或检索任何相关联的状态</strong>。由于轻节点可以访问区块头，而头中包含了3个Merkle树的根Hash值，所有轻节点依然可以很容易生成和接收关于交易、事件、余额等可验证的答案。</p>
<p>这个可以行的通是因为在Merkle树中Hash值是向上传播的—如果一个恶意用户试图用一个假交易来交换Merkle树底的交易，这个会改变它上面节点的Hash值，而它上面节点的值的改变也会导致上上一个节点Hash值的改变，以此类推，一直到树的根节点。<br><img src="https://lilymoana.github.io/asset/eth_hashchange.png"></p>
<p>任何节点想要验证一些数据都可以通过<strong>Merkle证明</strong>来进行验证，<strong>Merkle 证明</strong>的组成：</p>
<ul>
<li>一块需要验证的数据</li>
<li>树的根节点Hash值</li>
<li>一个“分支”（从 <strong>chunk</strong>到根这个路径上所有的Hash值）<br><img src="https://lilymoana.github.io/asset/eth_chunk.png"></li>
</ul>
<p>任何可以读取证明的人都可以验证分支的Hash值是连贯的，因此给出的块在树中实际的位置就是在此处。</p>
<p><strong>总之，使用Merkle Patricia树的好处就是该结构的根节点加密取决于存储在树中的数据，而且根节点的Hash值还可以作为该数据的安全标识。由于块的头包含了状态树、交易树、收据树的根Hash值，所以任何节点都可以验证以太坊的一小部分状态而不用保存整个状态，这整个状态的的大小可能是非常大的。</strong></p>
<h2 id="Gas和费用"><a href="#Gas和费用" class="headerlink" title="Gas和费用"></a>Gas和费用</h2><p>在以太坊中一个比较重要的概念就是<strong>费用(fees)<strong>，</strong>由以太坊网络上的交易而产生的每一次计算，都会产生费用—没有免费的午餐</strong>。这个费用是以”gas”来支付。</p>
<p>Gas就是用来衡量在一个具体计算中要求的费用单位。gas price就是你愿意在每个gas上花费Ether的数量，以“gwei”进行衡量。“Wei”是Ether的最小单位，1Ether&#x3D;10^18Wei，1gwei&#x3D;1,000,000,000 Wei。</p>
<p>对每个交易，发送者设置gas limit和gas price。gas limit和gas price就代表着发送者愿意为执行交易支付的Wei的最大值。</p>
<p>例如，假设发送者设置gas limit为50,000，gas price为20gwei。这就表示发送者愿意最多支付50,000 * 20gwei &#x3D; 1,000,000,000,000,000 Wei &#x3D; 0.001 Ether来执行此交易。<br><img src="https://lilymoana.github.io/asset/eth_price.png"></p>
<p>记住gas limit代表用户愿意花费在gas上费用的最大值。如果在他们的账户余额中有足够的Ether来支付这个最大值费用，那么就没问题。在交易结束时任何未使用的gas都会被返回给发送者，以原始费率兑换。<br><img src="https://lilymoana.github.io/asset/eth_gas.png"></p>
<p>在发送者没有提供足够的gas来执行交易，那么交易执行就会出现“gas不足”然后被认为是无效的。在这种情况下，交易处理就会被终止以及所有已改变的状态将会被恢复，最后我们就又回到了交易之前的状态—完完全全的之前状态就像这笔交易从来没有发生。因为机器在耗尽gas之前还是为计算做出了努力，<br>所以理论上，<strong>将不会有任何的gas被返回给发送者</strong>。<br><img src="https://lilymoana.github.io/asset/eth_refunder.png"></p>
<p>这些gas的钱到底去了哪里？<strong>发送者在gas上花费的所有费用都被发送到“受益人”的地址，通常情况下就是矿工的地址</strong>。因为矿工为了计算和验证交易做出了努力，所以矿工接收gas的费用作为奖励。<br><img src="https://lilymoana.github.io/asset/eth_reward.png"></p>
<p>通常，发送者愿意支付更高的gas price，矿工从这笔交易中就能获得更多的价值。因此，矿工也就更加愿意选择这笔交易。这样的话，矿工可以自由的选择自己愿意验证或忽略的交易。为了引导发送者设置合理的gas price，矿工可以选择建议一个最小的gas值，此值代表自己愿意执行交易的最低价格。</p>
<h2 id="存储也有费用"><a href="#存储也有费用" class="headerlink" title="存储也有费用"></a>存储也有费用</h2><p>Gas不仅仅是用来支付计算这一步的费用，而且也用来支付存储的费用。存储的总费用与所使用的32位字节的最小倍数成比例。</p>
<p>存储费用有一些比较细微的方面。比如，由于增加的存储增加了所有节点上的以太坊状态数据库的大小，所以激励保持数据存储量小。为了这个原因，如果一个交易的执行有一步是清除一个存储实体，那么为执行这个操作的费用就会被放弃，并且由于释放存储空间的退款就会被返回给发送者。</p>
<h2 id="费用的作用是什么？"><a href="#费用的作用是什么？" class="headerlink" title="费用的作用是什么？"></a>费用的作用是什么？</h2><p>以太坊可以运作的一个重要方面就是每个网络执行的操作同时也被全节点所影响。然而，计算的操作在以太坊虚拟机上是非常昂贵的。因此，以太坊智能合约最好是用来执行最简单的任务，比如运行一个简单的业务逻辑或者验证签名和其他密码对象，而不是用于复杂的操作，比如文件存储，电子邮件，或机器学习，这些会给网络造成压力。<strong>施加费用防止用户使网络超负荷</strong>。</p>
<p>以太坊是一个图灵完备语言（短而言之，图灵机器就是一个可以模拟任何电脑算法的机器。对于图灵机器不太熟悉的人可以看看<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Turing_machine">这个</a>和<a target="_blank" rel="noopener" href="http://mathworld.wolfram.com/TuringMachine.html">这个</a>）。这就允许有循环，并使以太坊受到<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Halting_problem">停机问题</a>的影响，这个问题让你无法确定程序是否无限制的运行。如果没有费用的话，恶意的执行者通过执行一个包含无限循环的交易就可以很容易的让网络瘫痪而不会产生任何反响。因此，费用保护网络不受蓄意攻击。</p>
<p>你也许会想，“为什么我们还需要为存储付费？”其实就像计算一样，以太坊网络上的存储是整个网络都必须要负担的成本。</p>
<h2 id="交易和消息"><a href="#交易和消息" class="headerlink" title="交易和消息"></a>交易和消息</h2><p>之前说过以太坊是一个基于交易的状态机。换句话说，在两个不同账户之间发生的交易才让以太坊的全局状态从一个状态转换成另一个状态。</p>
<p><strong>最基本的概念，一个交易就是指被外部拥有账户生成的加密签名的一段指令，序列化之后提交给区块链。</strong></p>
<p>有两种类型的交易：**消息通信(message calls)<strong>和</strong>合约创建(contract creations)(也就是交易产生一个新的以太坊合约)**。</p>
<p>不管什么类型的交易，都包含：</p>
<ul>
<li><p>nonce：发送者发送交易数的计数</p>
</li>
<li><p>gasPrice：发送者愿意支付执行交易所需的每个gas的Wei数量</p>
</li>
<li><p>gasLimit：发送者愿意为执行交易支付gas数量的最大值。此值设置之后在任何计算完成之前就会被提前扣掉</p>
</li>
<li><p>to：接收者的地址。在合约创建交易中，合约账户的地址还没有存在，所以值先空着</p>
</li>
<li><p>value：从发送者转移到接收者Wei的数量。在合约创建交易中，value作为新建合约账户的开始余额</p>
</li>
<li><p>v,r,s：用于产生标识交易发送者的签名</p>
</li>
<li><p>init（只有在合约创建交易中存在）：用来初始化新合约账户的EVM代码片段。<strong>init</strong>值会执行一次，然后就会被丢弃。当<strong>init</strong>第一次执行的时候，它返回一个账户代码体，也就是永久与合约账户关联的一段代码。</p>
</li>
<li><p>data（可选域，只有在<strong>消息通信</strong>中存在）：消息通信中的输入数据(也就是参数)。例如，如果智能合约就是一个域名注册服务，那么调用合约可能就会期待输入参数：域名和IP地址</p>
<p><img src="https://lilymoana.github.io/asset/eth_transationmessage.png"></p>
</li>
</ul>
<p>在“账户”这个章节中我们学到交易—消息通信和合约创建交易两者都总是被外部拥有账户触发并提交到区块链的。换种思维思考就是，交易是外部世界和以太坊内部状态的桥梁。</p>
<p><img src="https://lilymoana.github.io/asset/eth_%20bridge.png"></p>
<p>但是这也并不代表一个合约与另一个合约无法通信。<strong>在以太坊状态全局范围内的合约可以与在相同范围内的合约进行通信。他们是通过“消息”或者“内部交易”进行通信的</strong>。（PS：没看懂）我们可以认为消息或内部交易类似于交易，不过与交易有着最大的不同点—它们不是由外部拥有账户产生的。相反，他们是被合约产生的。它们是虚拟对象，与交易不同，没有被序列化而且只存在于以太坊执行环境。</p>
<p><strong>当一个合约发送一个内部交易给另一个合约，存在于接收者合约账户相关联的代码就会被执行。</strong><br><img src="https://lilymoana.github.io/asset/eth_excuted.png"></p>
<p>一个需要注意的重要事情是内部交易或者消息不包含<strong>gasLimit</strong>。因为gas limit是由原始交易的外部创建者决定的（也就是外部拥有账户）。外部拥有账户设置的gas limit必须要高到足够将交易完成，包括由于此交易而产生的任何”子执行”，例如合约到合约的消息。如果，在一个交易或者信息链中，其中一个消息执行造成gas不足，那么这个消息的执行会被还原，包括任何被此执行触发的子消息。不过，父执行没必要被还原。</p>
<h2 id="区块"><a href="#区块" class="headerlink" title="区块"></a>区块</h2><p>所有的交易都被组成一个”块”。一个区块链包含了一系列这样链在一起的区块。</p>
<p>在以太坊中，一个区块包含：</p>
<ul>
<li><strong>区块头</strong></li>
<li>关于包含在此区块中<strong>交易集</strong>的信息</li>
<li>与当前块的ommers相关的一系列其他区块头</li>
</ul>
<h2 id="Ommers解释"><a href="#Ommers解释" class="headerlink" title="Ommers解释"></a>Ommers解释</h2><p>“ommer”到底是什么？ ommer就是一个区块的父区块与当前区块父区块的父区块是相同的。让我们快速了解一下ommers是用来干嘛的，并且为什么一个区块需要为ommers包含区块头。</p>
<p>由于以太坊的构造，它的区块生产时间（大概15秒左右）比其他的区块链例如Bitcoin（大概10分钟左右）要快很多。这使得交易的处理更快。但是，更短的区块生产时间的一个缺点就是：更多的竞争区块会被矿工发现。这些竞争区块同样也被称为“孤区块”（也就是被挖出来但是不会被添加到主链上的区块）。</p>
<p>Ommers的目的就是为了帮助奖励矿工纳入这些孤区块。矿工包含的ommers必须是有效的，也就是ommers必须是往上数6代之内或更小范围内父区块的子区块。 一个孤区块在第6个子区块之后，这种陈旧的孤区块将不会再被引用（因为包含老旧的交易会使事情变得复杂一点）。</p>
<p>Ommer区块会收到比全区块少一点的奖励。不管怎样，依然存在激励来让矿工们纳入孤区块并能从中获得一些报酬。</p>
<h3 id="区块头"><a href="#区块头" class="headerlink" title="区块头"></a>区块头</h3><p>让我们再回到区块的问题上。我们前面提到每个区块都有一个“区块头”，但这究竟是什么？</p>
<p>区块头是区块的一部分，包含了：</p>
<ul>
<li>parentHash：父区块头的Hash值（这也是使得区块变成区块链的原因）</li>
<li>ommerHash：当前区块ommers列表的Hash值</li>
<li>beneficiary：接收挖此区块费用的账户地址</li>
<li>stateRoot：状态树根节点的Hash值（回忆一下我们之前所说的保存在头中的状态树以及它使得轻客户端认证任何关于状态的事情都变得非常简单）</li>
<li>transactionsRoot：包含此区块所有交易的Merkle树的根节点Hash值</li>
<li>receiptsRoot：包含此区块所有交易收据的Merkle树的根节点Hash值</li>
<li>logsBloom：由日志信息组成的一个<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bloom_filter">Bloom过滤器</a> (一种数据结构)</li>
<li>difficulty： 此区块的难度级别</li>
<li>number：当前区块的计数（创世纪块的区块序号为0，对于每个后续区块，区块序号都增加1）</li>
<li>gasLimit：每个区块的当前gas limit</li>
<li>gasUsed： 此区块中交易所用的总gas量</li>
<li>timestamp：此区块成立时的unix的时间戳</li>
<li>extraData：与此区块相关的附加数据</li>
<li>mixHash：一个Hash值，当与nonce组合时，证明此区块已经执行了足够的计算</li>
<li>nonce：一个Hash值，当与mixHash组合时，证明此区块已经执行了足够的计算<br><img src="https://lilymoana.github.io/asset/eth_blockheaders.png"></li>
</ul>
<p>注意每个区块是如何包含三个树结构的，三个树结构分别对应：</p>
<ul>
<li>状态（stateRoot）</li>
<li>交易（transactionsRoot）</li>
<li>收据（receiptsRoot）<br>这三个树结构就是我们前面讨论的Merkle Patricia树。</li>
</ul>
<p>另外，上面描述的有几个术语值得说明一下，下面来看一下。</p>
<h2 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h2><p>以太坊允许日志可以跟踪各种交易和信息。一个合约可以通过定义“事件”来显示的生成日志。</p>
<p>一个日志的实体包含：</p>
<ul>
<li>记录器的账户地址</li>
<li>代表本次交易执行的各种事件的一系列主题以及与这些事件相关的任何数据</li>
</ul>
<p>日志被保存在<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Bloom_filter">bloom过滤器</a>中，过滤器高效的保存了无尽的日志数据。（PS：这得保留多少？不是越来越大）</p>
<h2 id="交易收据"><a href="#交易收据" class="headerlink" title="交易收据"></a>交易收据</h2><p>包含着日志信息的交易收据的根Hash值保存在头中。 就像你在商店买东西时收到的收据一样，以太坊为每笔交易都产生一个收据。像你期望的那样，每个收据包含关于交易的特定信息，这些信息为：</p>
<ul>
<li>区块序号</li>
<li>区块Hash值</li>
<li>交易Hash值</li>
<li>当前交易使用了的gas</li>
<li>在当前交易执行完之后当前块使用的累计gas</li>
<li>执行当前交易时创建的日志</li>
<li>等等</li>
</ul>
<h2 id="区块难度"><a href="#区块难度" class="headerlink" title="区块难度"></a>区块难度</h2><p>区块的难度是被用来在验证区块时加强一致性。创世纪区块的难度是131,072，有一个特殊的公式用来计算之后的每个块的难度。如果某个区块比前一个区块验证的更快，以太坊协议就会增加区块的难度。</p>
<p>区块的难度影响<strong>nonce</strong>，它是在挖矿时必须要使用工作量证明算法计算出的一个Hash值。</p>
<p>区块<strong>难度</strong>和<strong>nonce</strong>之间的关系用数学形式表达就是：<br><img src="https://lilymoana.github.io/asset/eth_math.png"><br><strong>Hd</strong>代表的是难度。</p>
<p>找到符合难度阈值的<strong>nonce</strong>唯一方法就是使用工作量证明算法来列举所有的可能性。找到解决方案预期时间与难度成正比—难度越高，找到<strong>nonce</strong>就越困难，因此验证一个区块也就越难，这又相应地增加了验证新块所需的时间。<strong>所以，通过调整区块难度，协议可以调整验证区块所需的时间</strong>。</p>
<p>另一方面，如果验证时间变的越来越慢，协议就会降低难度。这样的话，验证时间自我调节以保持恒定的速率—平均每15s一个块。</p>
<h2 id="交易执行"><a href="#交易执行" class="headerlink" title="交易执行"></a>交易执行</h2><p>我们已经到了以太坊协议最复杂的部分：交易的执行。假设你发送了一笔交易给以太坊网络处理，将以太坊状态转换成包含你的交易这个过程到底发生了什么？<br><img src="https://lilymoana.github.io/asset/eth_transition.png"></p>
<p>首先，为了可以被执行所有的交易必须都要符合最基础的一系列要求，包括：</p>
<ul>
<li>交易必须是正确格式化的RLP。”RLP”代表Recursive Length Prefix，它是一种数据格式，用来编码二进制数据嵌套数组。以太坊就是使用RLP格式序列化对象。</li>
<li>有效的交易签名。</li>
<li>有效的交易序号。回忆一下账户中的nonce就是从此账户发送出去交易的计数。如果有效，那么交易序号一定等于发送账户中的nonce。</li>
<li>交易的gas limit 一定要等于或者大于交易使用的<strong>intrinsic gas</strong>，<strong>intrinsic gas</strong>包括：<br>1.执行交易预订费用为21,000gas<br>2.随交易发送的数据的gas费用（每字节数据或代码为0的费用为4gas，每个非零字节的数据或代码费用为68gas）<br>3.如果是合约创建交易，还需要额外的32,000gas<br><img src="https://lilymoana.github.io/asset/eth_%20intrinsicgas.png"></li>
<li>发送账户余额必须有足够的Ether来支付”前期”gas费用。前期gas费用的计算比较简单：首先，交易的gas limit乘以交易的gas价格得到最大的gas费用。然后，这个最大的gas费用加上从发送方传送给接收方的总值。<br><img src="https://lilymoana.github.io/asset/eth_upfront.png"></li>
</ul>
<p>如果交易符合上面的所有要求，那么我们进行下面的步骤。</p>
<p>第一步，我们从发送者的余额中扣除执行的前期费用，并为当前交易将发送者账户中的nonce增加1。此时，我们可以计算剩余的gas，将交易的总gas减去使用的<strong>intrinsic gas</strong>。<br><img src="https://lilymoana.github.io/asset/eth_gasremaining.png"></p>
<p>第二步，开始执行交易。在交易执行的整个过程中，以太坊保持跟踪“子状态”。子状态是记录在交易中生成的信息的一种方式，当交易完成时会立即需要这些信息。具体来说，它包含：</p>
<ul>
<li>自毁集：在交易完成之后会被丢弃的账户集（如果存在的话）</li>
<li>日志系列：虚拟机的代码执行的归档和可检索的检查点</li>
<li>退款余额：交易完成之后需要退还给发送账户的总额。回忆一下我们之前提到的以太坊中的存储需要付费，发送者要是清理了内存就会有退款。以太坊使用退款计数进行跟踪退款余额。退款计数从0开始并且每当合约删除了一些存储中的东西都会进行增加。</li>
</ul>
<p>第三步，交易所需的各种计算开始被处理。</p>
<p>当交易所需的步骤全部处理完成，并假设没有无效状态，通过确定退还给发送者的未使用的gas量，最终的状态也被确定。除了未使用的gas，发送者还会得到上面所说的“退款余额”中退还的一些津贴。</p>
<p>一旦发送者得到退款之后：</p>
<ul>
<li>gas的Ether就会给矿工</li>
<li>交易使用的gas会被添加到区块的gas计数中（计数一直记录当前区块中所有交易使用的gas总量，这对于验证区块时是非常有用的）</li>
<li>所有在<strong>自毁集</strong>中的账户（如果存在的话）都会被删除</li>
</ul>
<p>最后，我们就有了一个新的状态以及交易创建的一系列日志。</p>
<p>现在我们已经介绍了交易执行的基本知识，让我们再看看合约创建交易和消息通信的一些区别。</p>
<p>合约创建(Contract creation)</p>
<p>回忆一下在以太坊中，有两种账户类型：合约账户和外部拥有账户。当我们说一个交易是“合约创建”，是指交易的目的是创建一个新的合约账户。</p>
<p>为了创建一个新的合约账户，我们使用一个特殊的公式来声明新账户的地址。然后我们使用下面的方法来初始化一个账户：</p>
<ul>
<li>设置nonce为0</li>
<li>如果发送者通过交易发送了一定量的Ether作为<strong>value</strong>，那么设置账户的余额为<strong>value</strong></li>
<li>将存储设置为0</li>
<li>设置合约的<strong>codeHash</strong>为一个空字符串的Hash值</li>
</ul>
<p>一旦我们完成了账户的初始化，使用交易发送过来的<strong>init code</strong>（查看”交易和消息”章节来复习一下<strong>init code</strong>），实际上就创造了一个账户。<strong>init code</strong>的执行过程是各种各样的。取决于合约的构造器，可能是更新账户的存储，也可能是创建另一个合约账户，或者发起另一个消息通信等等。</p>
<p>当初始化合约的代码被执行之后，会使用gas。<strong>交易不允许使用的gas超过剩余gas。如果它使用的gas超过剩余gas，那么就会发生gas不足异常(OOG)并退出。如果一个交易由于gas不足异常而退出，那么状态会立刻恢复到交易前的一个点。发送者也不会获得在gas用完之前所花费的gas</strong>。</p>
<p>不过，如果发送者随着交易发送了Ether，即使合约创建失败Ether也会被退回来。</p>
<p>如果初始化代码成功的执行完成，最后合约创建的花费会被支付。这些是存储成本，与创建的合约代码大小成正比（再一次，没有免费的午餐）。如果没有足够的剩余gas来支付最后的花费，那么交易就会再次宣布gas不足异常并中断退出。</p>
<p>如果所有的都正常进行没有任何异常出现，那么任何剩余的未使用gas都会被退回给原始的交易发送者，现在改变的状态才被允许永久保存。</p>
<h3 id="消息通信-Message-calls"><a href="#消息通信-Message-calls" class="headerlink" title="消息通信(Message calls)"></a>消息通信(Message calls)</h3><p>消息通信的执行与合约创建比较类似，只不过有一点点区别。</p>
<p>由于没有新账户被创建，所以消息通信的执行不包含任何的<strong>init code</strong>。不过，它可以包含输入数据，如果交易发送者提供了此数据的话。一旦执行，消息通信同样会有一个额外的组件来包含输出数据，如果后续执行需要此数据的话组件就会被使用。</p>
<p>就像合约创建一样，如果消息通信执行退出是因为gas不足或交易无效（例如栈溢出，无效跳转目的地或无效指令），那么已使用的gas是不会被退回给原始触发者的。相反，所有剩余的未使用gas也会被消耗掉，并且状态会被立刻重置为余额转移之前的那个点。</p>
<p>没有任何方法停止或恢复交易的执行而不让系统消耗你提供的所有gas，直到最新的以太坊更新。例如，假设你编写了一个合约，当调用者没有授权来执行这些交易的时候抛出一个错误。在以太坊的前一个版本中，剩余的gas也会被消耗掉，并且没有任何gas退回给发送者。<strong>但是拜占庭更新包括了一个新的“恢复”代码，允许合约停止执行并且恢复改变的状态而不消耗剩余的gas，此代码还拥有返回交易失败原因的能力</strong>。如果一个交易是由于恢复而退出，那么未使用的gas就会被退回给发送者。</p>
<h3 id="执行模式"><a href="#执行模式" class="headerlink" title="执行模式"></a>执行模式</h3><p>到目前为止，我们了解了从开始到结束交易的执行必须经历的一系列步骤。现在，我们来看看交易究竟是如何在虚拟机(VM)中执行的。</p>
<p>**协议实际操作交易处理的部分是以太坊自己的虚拟机，称之为以太坊虚拟机(EVM)**。</p>
<p>像之前定义的那样，EVM是图灵完备虚拟机器。EVM存在而典型图灵完备机器不存在的唯一限制就是EVM本质上是被gas束缚。因此，可以完成的计算总量本质上是被提供的gas总量限制的。<br><img src="https://lilymoana.github.io/asset/eth_evm.png"></p>
<p>此外，EVM具有基于堆栈的架构。<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Stack_machine">堆栈机器</a>就是使用后进先出来保存临时值的计算机。</p>
<p>EVM中每个堆栈项的大小为256位，堆栈有一个最大的大小，为1024位。</p>
<p>EVM有内存，各项按照可寻址字节数组来存储。内存是易失性的，也就是数据是不持久的。</p>
<p>EVM也有一个存储器。不像内存，存储器是非易失性的，并作为系统状态的一部分进行维护。EVM分开保存程序代码，在虚拟<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Read-only_memory">ROM</a> 中只能通过特殊指令来访问。这样的话，EVM就与典型的<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Von_Neumann_architecture">冯·诺依曼架构</a>不同，此架构将程序的代码存储在内存或存储器中。<br><img src="https://lilymoana.github.io/asset/eth_evmstorage.png"></p>
<p>EVM同样有属于它自己的语言：“EVM字节码”，当一个程序员比如你或我写一个在以太坊上运行的智能合约时，我们通常都是用高级语言例如Solidity来编写代码。然后我们可以将它编译成EVM可以理解的EVM字节码。</p>
<p>好了现在来说执行。</p>
<p>在执行特定的计算之前，处理器会确定下面所说的信息是否有效和是否可获取：</p>
<ul>
<li>系统状态</li>
<li>用于计算的剩余gas</li>
<li>拥有执行代码的账户地址</li>
<li>原始触发此次执行的交易发送者的地址</li>
<li>触发代码执行的账户地址（可能与原始发送者不同）</li>
<li>触发此次执行的交易gas price</li>
<li>此次执行的输入数据</li>
<li><strong>Value</strong>(单位为Wei)作为当前执行的一部分传递给该账户</li>
<li>待执行的机器码</li>
<li>当前区块的区块头</li>
<li>当前消息通信或合约创建堆栈的深度</li>
</ul>
<p>执行刚开始时，内存和堆栈都是空的，程序计数器为0。</p>
<table>
<tbody>
<tr>
<td style="vertical-align:middle;">
    1
</td>
<td style="vertical-align:middle;">
    PC: 0 STACK: [] MEM: [], STORAGE: {}
</td>
</tr>
</tbody>
</table>

<p>然后EVM开始递归的执行交易，为每个循环计算<strong>系统状态</strong>和<strong>机器状态</strong>。系统状态也就是以太坊的全局状态(global state)。机器状态包含：</p>
<ul>
<li>可获取的gas</li>
<li>程序计数器</li>
<li>内存的内容</li>
<li>内存中字的活跃数</li>
<li>堆栈的内容</li>
</ul>
<p>堆栈中的项从系列的最左边被删除或者添加。</p>
<p>每个循环，剩余的gas都会被减少相应的量，程序计数器也会增加。<br>在每个循环的结束，都有三种可能性：</p>
<ul>
<li>机器到达异常状态（例如 gas不足，无效指令，堆栈项不足，堆栈项会溢出1024，无效的JUMP&#x2F;JUMPI目的地等等）因此停止，并丢弃所有更改</li>
<li>进入后续处理下一个循环</li>
<li>机器到达了受控停止（到达执行过程的终点）</li>
</ul>
<p>假设执行没有遇到异常状态，达到一个“可控的”或正常的停止，机器就会产生一个合成状态，执行之后的剩余gas、产生的子状态、以及组合输出。</p>
<p>呼。我们终于过了一遍以太坊最难的部分了。如果你不能完全理解这个部分，也没关系。除非你在研究非常深层次的东西，否则你真的没有必要去理解交易执行的每个细节。</p>
<h2 id="一个块是如何完成的？"><a href="#一个块是如何完成的？" class="headerlink" title="一个块是如何完成的？"></a>一个块是如何完成的？</h2><p>最后，让我们看看一个包含许多交易的块是如何完成的。</p>
<p>当我们说“完成”，取决于此块是新的还是已存在的，可以指两个不同的事情。如果是个新块，就是指挖这个块所需的处理。如果是已存在的块，就是指验证此块的处理。不论哪种情况，一个块的“完成”都有4个要求：<br>1）验证（或者，如果是挖矿的话，就是确定）ommers<br>在区块头中的每个ommer都必须是有效的并且必须在当前块往上6代之内</p>
<p>2）验证（或者，如果是挖矿的话，就是确定）交易<br>区块中的<strong>gasUsed</strong>数量必须与区块中所列交易使用的累积gas量相等。（回忆一下，当执行一个交易的时候，我们会跟踪区块的gas计数器，也就跟踪了区块中所有交易使用的gas总数量）</p>
<p>3）申请奖励（只有挖矿时）<br>受益人的地址会因为挖矿而获得5Ether（在以太坊<a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/669">EIP-649</a> 提案中，5ETH很快将会被减少为3ETH）。另外，对于每个ommer，当前块的受益人会获得额外的1&#x2F;32当前块奖励金的奖励。最近，每个ommer区块的受益人能够得到一定量的奖励（有个特殊公式可以进行计算）。</p>
<p>4）校验（或者，如果是挖矿的话，就是计算一个有效的）状态和nonce<br>确保所有的交易和改变的结果状态都被应用了，然后在区块奖励被应用于最终交易结果状态之后定义一个新块为状态。通过检查最终状态与存储在头中的状态树来进行验证。</p>
<h3 id="工作量证明挖矿"><a href="#工作量证明挖矿" class="headerlink" title="工作量证明挖矿"></a>工作量证明挖矿</h3><p>在“区块”这个章节简短的说明了一下区块难度这个概念。给予区块难度意义的算法叫做工作量证明（PoW）。</p>
<p>以太坊的工作量证明算法称之为<a target="_blank" rel="noopener" href="https://github.com/ethereum/wiki/wiki/Ethash">“Ethash”</a> （之前叫做Dagger-Hashimoto）。<br>算法正式定义为：<br><img src="https://lilymoana.github.io/asset/eth_algorithm.png"><br><strong>m</strong>代表的是<strong>mixHash</strong>，<strong>n</strong>代表的是<strong>nonce</strong>，<strong>Hn</strong>代表的是新区块的头（不包含需要计算的<strong>nonce</strong>和<strong>mixHash</strong>），<strong>Hn</strong>是区块头的nonce，<strong>d</strong>是<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Directed_acyclic_graph">DAG</a> ，就是一个大数据集。</p>
<p>在”区块”章节，我们讨论了存在于区块头中的多项。其中两项叫做<strong>mixHash</strong>和<strong>nonce</strong>。也许你会回忆起：</p>
<ul>
<li>mixHash：一个Hash值，当与nonce组合时，证明此区块已经执行了足够的计算</li>
<li>nonce：一个Hash值，当与mixHash组合时，证明此区块已经执行了足够的计算</li>
</ul>
<p>PoW函数就是用来估算这两项的。<br><strong>mixHash</strong>和<strong>nonce</strong>到底是如何使用PoW函数来计算出来的有点复杂，如果深入了解的话，我们可以另写一篇文章来讲解了。但是在一个高层面上，它大致就是这样计算的：<br>会为每个区块计算一个”种子”。每个“时期”的种子都不一样，每个时期是30,000个区块长度。对于第一时期，种子就是32位0的Hash值。对于后续的每个时期，种子就是前一个种子Hash值的Hash值。使用这个种子，节点可以计算出一个伪随机“缓存”。</p>
<p>这个缓存是非常有用的，因为它可以使“轻节点”的概念变成现实，轻节点概念在这篇文章的前面讨论过。轻节点的目的就是让某个节点有能力高效的校验交易而用不着存储整个区块链的数据集。一个轻节点可以仅基于缓存来校验一个交易的有效性，因为缓存可以重新生成需要校验的特定块。</p>
<p>使用这个缓存，节点可以生成DAG“数据集”，数据集中的每项取决于缓存中少量伪随机选择项。为了成为矿工，你需要要生成全数据集，所有全客户端和矿工都保存这个数据集，并且这个数据集随着时间线性增长。</p>
<p>然后矿工可以随机抽取数据集中的部分并将它们放入一个数学函数中Hash出一个”mixHash”。矿工会重复生成<strong>mixHash</strong>直到输出的值小于想要的目标值<strong>nonce</strong>。当输出的值符合这个条件的时候，nonce就被认为是有效的，然后区块就被添加到链中。</p>
<h3 id="挖矿作为安全机制"><a href="#挖矿作为安全机制" class="headerlink" title="挖矿作为安全机制"></a>挖矿作为安全机制</h3><p>总的来说，PoW的目的就是以加密安全的方式证明生成的一些输出（也就是<strong>nonce</strong>）是经过了一定量的计算的。<strong>因为除了列举所有的可能性，没有更好的其他方法来找到一个低于要求阈值的nonce</strong>。重复应用Hash函数的输出均匀分布，所以我们可以确保，在平均值上，<strong>找到满足要求的nonce所需时间取决于难度阈值</strong>。难度系数越大，所需时间越长。这样的话，<strong>PoW算法就给予难度这个概念意义了：用来加强区块链的安全</strong>。</p>
<p>我们所说的区块链的安全又是什么意思？这非常简单：我们想要创造一个每个人都信任的区块链。像我们之前在这篇文章中讨论的那样，如果存在超过1条以上的链，用户的信任就会消失，因为他们没有能力合理的确认哪条链才是“有效的”。为了让一群用户接受存储在区块链中的潜在状态，我们需要有一群人信任的一个权威区块链。</p>
<p><strong>这完完全全就是Pow算法所做的事情：它确保特定的区块链直到未来都一直保持着权威性，让攻击者创造一个新区块来重写某个历史部分（例如清除一个交易或者创建一个假的交易）或者保持一个分叉变得非常困难</strong>。为了首先让他们的区块被验证，攻击者需要总是比网络上的其他人更快的解决掉<strong>nonce</strong>问题，这样网络就会相信他们的链是最重的链（基于我们之前提到的GHOST协议原则）。除非攻击者拥有超过一半的网络挖矿能力（这种场景也被称为<a target="_blank" rel="noopener" href="https://en.bitcoin.it/wiki/Majority_attack">大多数51%攻击</a>），要不然这基本上是不可能的。<br><img src="https://lilymoana.github.io/asset/eth_attack.png"></p>
<h3 id="挖矿作为财富分配机制"><a href="#挖矿作为财富分配机制" class="headerlink" title="挖矿作为财富分配机制"></a>挖矿作为财富分配机制</h3><p>除了提供一个安全的区块链，PoW同样也是分配财富给那些为提供这个安全而花费自己计算力的人的一种方法。回忆一下，一个矿工挖出一个区块的时候会获得奖励，包括：</p>
<ul>
<li>为“获胜”区块提供的5 ether静态区块奖励（马上就会<a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/pull/669">变成3 ether</a>）</li>
<li>区块中的交易在区块内所消耗的gas</li>
<li>纳入ommers作为区块的一部分的额外奖励</li>
</ul>
<p>为了保证PoW共识算法机制对安全和财富分配的使用是长期可持续的，以太坊努力灌输这两个特性：</p>
<ul>
<li>尽可能的让更多的人可访问。换句话说，人们不需要特殊的或者与众不同的硬件来运行这个算法。这样做的目的是为了让财富分配模式变的尽可能的开放，以便任何人都可以提供一些算力而获得Ether作为回报。</li>
<li>降低任何单个节点（或小组）能够创造与其不成比例的利润可能性。任何可以创造不成比例的利润的节点拥有比较大的影响力来决定权威区块链。这是件麻烦的事情，因为这降低了网络的安全性。</li>
</ul>
<p>在区块链网络中，与上面两个特性有关的一个问题是PoW算法是SHA256哈希函数。这种函数的缺点就是它使用特殊的硬件（也被称之为ASCIs）可以更加快速高效的解决<strong>nonce</strong>问题。</p>
<p>为了减轻这个问题，以太坊选择让PoW算法<a target="_blank" rel="noopener" href="https://github.com/ethereum/wiki/wiki/Ethash">(Ethhash)</a> 提高内存级别难度。意思是此算法被设计为计算出要求的<strong>nonce</strong>需要大量的内存和带宽。大量内存的需求让电脑平行的使用内存同时计算多个<strong>nonce</strong>变得极其困难，高带宽的需求让即使是超级电脑同时计算多个<strong>nonce</strong>也变得十分艰难。这种方式降低了中心化的风险，并为正在进行验证的节点提供了更加公平的竞争环境。</p>
<p>有一件值得注意的事情是以太坊正在从PoW共识机制渐渐转换为一个叫做“权益证明(PoS)”的共识算法。这就是一个比较野心的话题了，我们希望可以在未来的文章中探索这个话题。</p>
<h2 id="总结（PS：原文的总结）"><a href="#总结（PS：原文的总结）" class="headerlink" title="总结（PS：原文的总结）"></a>总结（PS：原文的总结）</h2><p>呼！ 你终于坚持到最后了。我希望如此？</p>
<p>这篇文章中有很多的地方需要消化。如果需要你阅读好几遍才能理解怎么回事，这完全正常。我个人重复阅读了好几次以太坊黄皮书，白皮书，以及代码的不同部分才渐渐明白是怎么回事。</p>
<p>无论如何，我希望你觉得这篇文章对你有帮助。如果你发现了任何的错误或失误，我很乐意你给我写个私人消息或者直接在评论区评论（我保证我会查看所有评论）。</p>
<p>记住，我是个人类（对，这是真的），我会犯错误。为了社区的利益，我花时间免费写了这篇文章。所以请你在反馈时不要带着没必要的攻击性，尽量是建设性的反馈。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ethereum/yellowpaper">以太坊的黄皮书</a></p>
<h1 id="总结（自己的总结）"><a href="#总结（自己的总结）" class="headerlink" title="总结（自己的总结）"></a>总结（自己的总结）</h1><p>第二遍读完，又多消化了一些内容，也总结了一些问题，列在下面：</p>
<ul>
<li>storageRoot和codeHash存储的都是hash值，那么原本的内容被存在哪里？</li>
<li>合约代码会发生改变吗？代码里面的状态值是怎样体现改变的？</li>
<li>账户的唯一性是由nonce来确定的吗？</li>
<li>账户的信息又是怎么保存在区块链上呢？</li>
<li>什么时候需要重新执行交易呢？交易的结果状态没有被记录吗？</li>
<li>日志是如何保留的？</li>
</ul>
<p>下一步，一个问题一个问题去研究。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://www.oxysun.cn/2018/08/07/blockchain/ethereum-rationale-introduction/" data-id="clipxls5l003eopx89rzu8977" data-title="区块链：以太坊的工作原理（转）--阅读笔记" class="article-share-link"><span class="fa fa-share">分享</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/" rel="tag">以太坊</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/08/09/git/git-change-server-password/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">前一篇</strong>
      <div class="article-nav-title">
        
          Git：Repository not found.
        
      </div>
    </a>
  
  
    <a href="/2018/08/04/git/git-checkout-2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">后一篇</strong>
      <div class="article-nav-title">Git：git-checkout的用法总结（2）</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Blockchain/">Blockchain</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Blockchain/%E4%BB%A5%E5%A4%AA%E5%9D%8A/">以太坊</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Blockchain/%E4%BB%A5%E5%A4%AA%E5%9D%8A/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/">智能合约</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/CSS/">CSS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Design-Pattern/">Design Pattern</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/ES/">ES</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/English/">English</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Git/">Git</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/NPM/">NPM</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/Vue/">Vue</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kafka/">Kafka</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Shell/">Shell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Ubuntu/">Ubuntu</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/MongoDB/">MongoDB</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MySQL/">MySQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SOA/">SOA</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1/">微信</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%9D%82%E8%AE%B0/">杂记</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%A8%8B%E5%BA%8F%E4%BA%BA%E7%94%9F/">程序人生</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E5%88%92/">计划</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Autowired/" rel="tag">Autowired</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/B-%E6%A0%91/" rel="tag">B 树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/B-%E6%A0%91/" rel="tag">B+ 树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Base48/" rel="tag">Base48</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Beans/" rel="tag">Beans</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CSS/" rel="tag">CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DDL/" rel="tag">DDL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DETACHED-HEAD/" rel="tag">DETACHED HEAD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DTO/" rel="tag">DTO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES/" rel="tag">ES</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English/" rel="tag">English</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git-Flow/" rel="tag">Git Flow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JS/" rel="tag">JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/" rel="tag">Javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/KVC/" rel="tag">KVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kafka/" rel="tag">Kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven/" rel="tag">Maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MongoDB/" rel="tag">MongoDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NAT/" rel="tag">NAT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NPM/" rel="tag">NPM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OC/" rel="tag">OC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/POJO/" rel="tag">POJO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactiveCocoa/" rel="tag">ReactiveCocoa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ReactiveObjC/" rel="tag">ReactiveObjC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Repository-not-found/" rel="tag">Repository not found</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RequestBody/" rel="tag">RequestBody</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ResponseBody/" rel="tag">ResponseBody</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RestControlle/" rel="tag">RestControlle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SASS/" rel="tag">SASS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shiro/" rel="tag">Shiro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SprintMVC/" rel="tag">SprintMVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Style/" rel="tag">Style</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu16-04/" rel="tag">Ubuntu16.04</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VO/" rel="tag">VO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/" rel="tag">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Workflow/" rel="tag">Workflow</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/X-Frame-Options/" rel="tag">X-Frame-Options</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/M/" rel="tag">^M</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/aggregate/" rel="tag">aggregate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/alter/" rel="tag">alter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/annotation/" rel="tag">annotation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/args/" rel="tag">args</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/buffer/" rel="tag">buffer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cache/" rel="tag">cache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/change/" rel="tag">change</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/checkout/" rel="tag">checkout</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cmake/" rel="tag">cmake</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/collection/" rel="tag">collection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/component/" rel="tag">component</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/computed/" rel="tag">computed</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/create/" rel="tag">create</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/" rel="tag">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/df/" rel="tag">df</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diff/" rel="tag">diff</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/double-ampersand/" rel="tag">double ampersand</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/double-vertical-bar/" rel="tag">double vertical bar</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/driver/" rel="tag">driver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/du/" rel="tag">du</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fast-forward/" rel="tag">fast forward</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ff/" rel="tag">ff</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/font/" rel="tag">font</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/font-size/" rel="tag">font-size</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/free/" rel="tag">free</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-branch/" rel="tag">git branch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-index/" rel="tag">git index</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-merge/" rel="tag">git merge</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-pull/" rel="tag">git pull</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-reflog/" rel="tag">git reflog</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-reset/" rel="tag">git reset</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-rev-parse/" rel="tag">git rev-parse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-revert/" rel="tag">git revert</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git-tag/" rel="tag">git tag</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i-e/" rel="tag">i.e.</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iOS/" rel="tag">iOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inode/" rel="tag">inode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jps/" rel="tag">jps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kwargs/" rel="tag">kwargs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/" rel="tag">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/" rel="tag">mac</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/make/" rel="tag">make</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mapper-locations/" rel="tag">mapper-locations</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/microservice/" rel="tag">microservice</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/modify/" rel="tag">modify</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/module/" rel="tag">module</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nexus/" rel="tag">nexus</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/no-ff/" rel="tag">no-ff</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/package/" rel="tag">package</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pom/" rel="tag">pom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rewrite/" rel="tag">rewrite</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rm/" rel="tag">rm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/schema/" rel="tag">schema</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/semicolon/" rel="tag">semicolon</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/" rel="tag">shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/soa/" rel="tag">soa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/synchronized/" rel="tag">synchronized</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/this/" rel="tag">this</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/" rel="tag">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/top/" rel="tag">top</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/true-merge/" rel="tag">true merge</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/url/" rel="tag">url</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/" rel="tag">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%80%E6%A3%B5%E5%BC%80%E8%8A%B1%E7%9A%84%E6%A0%91/" rel="tag">一棵开花的树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%BB%E9%A2%98/" rel="tag">主题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">二叉树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%8B%E7%BB%8D/" rel="tag">介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A3%E7%90%86/" rel="tag">代理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/" rel="tag">以太坊</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BE%9D%E8%B5%96%E5%8C%85/" rel="tag">依赖包</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BF%AE%E6%94%B9/" rel="tag">修改</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%80%BC%E4%BC%A0%E9%80%92/" rel="tag">值传递</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%B2%E7%AA%81/" rel="tag">冲突</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E6%94%AF/" rel="tag">分支</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%9B%E5%BB%BA/" rel="tag">创建</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">创建数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" rel="tag">区块链</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%87%E7%BA%A7/" rel="tag">升级</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8F%82%E6%95%B0/" rel="tag">参数</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A7%94%E6%89%98/" rel="tag">委托</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%98%E5%82%A8/" rel="tag">存储</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%98%E5%9C%A8/" rel="tag">存在</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">学习笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E4%BE%8B/" rel="tag">实例</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8/" rel="tag">容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/" rel="tag">工作流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B8%AD%E6%85%95%E8%93%89/" rel="tag">席慕蓉</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" rel="tag">异步编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E4%BF%A1/" rel="tag">微信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%8F%92%E5%85%A5/" rel="tag">插入</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/" rel="tag">数据存储</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E9%9B%86%E5%90%88/" rel="tag">数据集合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E7%BB%84/" rel="tag">数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E6%A1%A3/" rel="tag">文档</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%87%E6%A1%A3%E6%B5%81/" rel="tag">文档流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" rel="tag">智能合约</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%87%E7%AD%BE/" rel="tag">标签</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95/" rel="tag">模板语法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81/" rel="tag">比特币</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A2%E6%B5%AA%E5%AD%97%E7%AC%A6/" rel="tag">波浪字符</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B3%A8%E8%A7%A3/" rel="tag">注解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%94%A8%E6%B3%95/" rel="tag">用法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A9%BF%E9%80%8F/" rel="tag">穿透</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8/" rel="tag">端口占用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%A6%E5%8F%B7/" rel="tag">符号</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BA%A2%E9%BB%91%E6%A0%91/" rel="tag">红黑树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/" rel="tag">组件基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BB%91%E5%AE%9A/" rel="tag">绑定</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B/" rel="tag">编程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F/" rel="tag">职责链模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%9A%E5%90%88/" rel="tag">聚合</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95/" rel="tag">聚集索引</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/" rel="tag">自定义指令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7/" rel="tag">计算属性</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9B%E7%A8%8B/" rel="tag">进程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80/" rel="tag">远程仓库地址</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C%E7%AC%A6/" rel="tag">逻辑操作符</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%83%A8%E7%BD%B2/" rel="tag">部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9A%BE%E5%BA%A6/" rel="tag">难度</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E5%90%88/" rel="tag">集合</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Autowired/" style="font-size: 10px;">Autowired</a> <a href="/tags/B-%E6%A0%91/" style="font-size: 10px;">B 树</a> <a href="/tags/B-%E6%A0%91/" style="font-size: 10px;">B+ 树</a> <a href="/tags/Base48/" style="font-size: 10px;">Base48</a> <a href="/tags/Beans/" style="font-size: 10px;">Beans</a> <a href="/tags/CSS/" style="font-size: 12.73px;">CSS</a> <a href="/tags/DDL/" style="font-size: 10px;">DDL</a> <a href="/tags/DETACHED-HEAD/" style="font-size: 10px;">DETACHED HEAD</a> <a href="/tags/DTO/" style="font-size: 10px;">DTO</a> <a href="/tags/ES/" style="font-size: 10px;">ES</a> <a href="/tags/English/" style="font-size: 10px;">English</a> <a href="/tags/Git/" style="font-size: 20px;">Git</a> <a href="/tags/Git-Flow/" style="font-size: 10px;">Git Flow</a> <a href="/tags/JS/" style="font-size: 16.36px;">JS</a> <a href="/tags/Java/" style="font-size: 19.09px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Javascript/" style="font-size: 10px;">Javascript</a> <a href="/tags/KVC/" style="font-size: 10.91px;">KVC</a> <a href="/tags/Kafka/" style="font-size: 10.91px;">Kafka</a> <a href="/tags/Linux/" style="font-size: 18.18px;">Linux</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MongoDB/" style="font-size: 17.27px;">MongoDB</a> <a href="/tags/MySQL/" style="font-size: 11.82px;">MySQL</a> <a href="/tags/NAT/" style="font-size: 10px;">NAT</a> <a href="/tags/NPM/" style="font-size: 10px;">NPM</a> <a href="/tags/OC/" style="font-size: 10.91px;">OC</a> <a href="/tags/POJO/" style="font-size: 10.91px;">POJO</a> <a href="/tags/Python/" style="font-size: 13.64px;">Python</a> <a href="/tags/ReactiveCocoa/" style="font-size: 10.91px;">ReactiveCocoa</a> <a href="/tags/ReactiveObjC/" style="font-size: 10.91px;">ReactiveObjC</a> <a href="/tags/Repository-not-found/" style="font-size: 10px;">Repository not found</a> <a href="/tags/RequestBody/" style="font-size: 10px;">RequestBody</a> <a href="/tags/ResponseBody/" style="font-size: 10px;">ResponseBody</a> <a href="/tags/RestControlle/" style="font-size: 10px;">RestControlle</a> <a href="/tags/SASS/" style="font-size: 10px;">SASS</a> <a href="/tags/Shiro/" style="font-size: 10.91px;">Shiro</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/SprintMVC/" style="font-size: 10px;">SprintMVC</a> <a href="/tags/Style/" style="font-size: 10px;">Style</a> <a href="/tags/Ubuntu16-04/" style="font-size: 10px;">Ubuntu16.04</a> <a href="/tags/VO/" style="font-size: 10px;">VO</a> <a href="/tags/Vue/" style="font-size: 15.45px;">Vue</a> <a href="/tags/Workflow/" style="font-size: 10px;">Workflow</a> <a href="/tags/X-Frame-Options/" style="font-size: 10px;">X-Frame-Options</a> <a href="/tags/M/" style="font-size: 10px;">^M</a> <a href="/tags/aggregate/" style="font-size: 10.91px;">aggregate</a> <a href="/tags/alter/" style="font-size: 10px;">alter</a> <a href="/tags/annotation/" style="font-size: 10px;">annotation</a> <a href="/tags/args/" style="font-size: 10px;">args</a> <a href="/tags/buffer/" style="font-size: 10px;">buffer</a> <a href="/tags/cache/" style="font-size: 10px;">cache</a> <a href="/tags/change/" style="font-size: 10px;">change</a> <a href="/tags/checkout/" style="font-size: 10.91px;">checkout</a> <a href="/tags/cmake/" style="font-size: 10px;">cmake</a> <a href="/tags/collection/" style="font-size: 10px;">collection</a> <a href="/tags/component/" style="font-size: 10px;">component</a> <a href="/tags/computed/" style="font-size: 10px;">computed</a> <a href="/tags/create/" style="font-size: 10px;">create</a> <a href="/tags/database/" style="font-size: 10px;">database</a> <a href="/tags/df/" style="font-size: 10px;">df</a> <a href="/tags/diff/" style="font-size: 10px;">diff</a> <a href="/tags/double-ampersand/" style="font-size: 10px;">double ampersand</a> <a href="/tags/double-vertical-bar/" style="font-size: 10px;">double vertical bar</a> <a href="/tags/driver/" style="font-size: 10px;">driver</a> <a href="/tags/du/" style="font-size: 10px;">du</a> <a href="/tags/fast-forward/" style="font-size: 10px;">fast forward</a> <a href="/tags/ff/" style="font-size: 10px;">ff</a> <a href="/tags/font/" style="font-size: 10px;">font</a> <a href="/tags/font-size/" style="font-size: 10px;">font-size</a> <a href="/tags/free/" style="font-size: 10px;">free</a> <a href="/tags/git-branch/" style="font-size: 10px;">git branch</a> <a href="/tags/git-index/" style="font-size: 10px;">git index</a> <a href="/tags/git-merge/" style="font-size: 13.64px;">git merge</a> <a href="/tags/git-pull/" style="font-size: 10px;">git pull</a> <a href="/tags/git-reflog/" style="font-size: 10px;">git reflog</a> <a href="/tags/git-reset/" style="font-size: 10px;">git reset</a> <a href="/tags/git-rev-parse/" style="font-size: 10px;">git rev-parse</a> <a href="/tags/git-revert/" style="font-size: 10px;">git revert</a> <a href="/tags/git-tag/" style="font-size: 10px;">git tag</a> <a href="/tags/i-e/" style="font-size: 10px;">i.e.</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/inode/" style="font-size: 10px;">inode</a> <a href="/tags/jps/" style="font-size: 10px;">jps</a> <a href="/tags/kwargs/" style="font-size: 10px;">kwargs</a> <a href="/tags/linux/" style="font-size: 11.82px;">linux</a> <a href="/tags/mac/" style="font-size: 10px;">mac</a> <a href="/tags/make/" style="font-size: 10px;">make</a> <a href="/tags/mapper-locations/" style="font-size: 10px;">mapper-locations</a> <a href="/tags/maven/" style="font-size: 10.91px;">maven</a> <a href="/tags/microservice/" style="font-size: 10px;">microservice</a> <a href="/tags/modify/" style="font-size: 10px;">modify</a> <a href="/tags/module/" style="font-size: 10.91px;">module</a> <a href="/tags/nexus/" style="font-size: 10px;">nexus</a> <a href="/tags/no-ff/" style="font-size: 10px;">no-ff</a> <a href="/tags/package/" style="font-size: 10.91px;">package</a> <a href="/tags/pom/" style="font-size: 10px;">pom</a> <a href="/tags/rewrite/" style="font-size: 10px;">rewrite</a> <a href="/tags/rm/" style="font-size: 10px;">rm</a> <a href="/tags/schema/" style="font-size: 10px;">schema</a> <a href="/tags/semicolon/" style="font-size: 10px;">semicolon</a> <a href="/tags/shell/" style="font-size: 10.91px;">shell</a> <a href="/tags/soa/" style="font-size: 10px;">soa</a> <a href="/tags/synchronized/" style="font-size: 10px;">synchronized</a> <a href="/tags/this/" style="font-size: 10px;">this</a> <a href="/tags/tomcat/" style="font-size: 10.91px;">tomcat</a> <a href="/tags/top/" style="font-size: 10px;">top</a> <a href="/tags/true-merge/" style="font-size: 10px;">true merge</a> <a href="/tags/url/" style="font-size: 10px;">url</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/windows/" style="font-size: 10px;">windows</a> <a href="/tags/%E4%B8%80%E6%A3%B5%E5%BC%80%E8%8A%B1%E7%9A%84%E6%A0%91/" style="font-size: 10px;">一棵开花的树</a> <a href="/tags/%E4%B8%BB%E9%A2%98/" style="font-size: 10px;">主题</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size: 10px;">二叉树</a> <a href="/tags/%E4%BB%8B%E7%BB%8D/" style="font-size: 10.91px;">介绍</a> <a href="/tags/%E4%BB%A3%E7%90%86/" style="font-size: 10px;">代理</a> <a href="/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/" style="font-size: 11.82px;">以太坊</a> <a href="/tags/%E4%BE%9D%E8%B5%96%E5%8C%85/" style="font-size: 10.91px;">依赖包</a> <a href="/tags/%E4%BF%AE%E6%94%B9/" style="font-size: 10px;">修改</a> <a href="/tags/%E5%80%BC%E4%BC%A0%E9%80%92/" style="font-size: 10px;">值传递</a> <a href="/tags/%E5%86%B2%E7%AA%81/" style="font-size: 10.91px;">冲突</a> <a href="/tags/%E5%88%86%E6%94%AF/" style="font-size: 10px;">分支</a> <a href="/tags/%E5%88%9B%E5%BB%BA/" style="font-size: 10px;">创建</a> <a href="/tags/%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">创建数据库</a> <a href="/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/" style="font-size: 14.55px;">区块链</a> <a href="/tags/%E5%8D%87%E7%BA%A7/" style="font-size: 10px;">升级</a> <a href="/tags/%E5%8F%82%E6%95%B0/" style="font-size: 10px;">参数</a> <a href="/tags/%E5%A7%94%E6%89%98/" style="font-size: 10px;">委托</a> <a href="/tags/%E5%AD%98%E5%82%A8/" style="font-size: 10px;">存储</a> <a href="/tags/%E5%AD%98%E5%9C%A8/" style="font-size: 10px;">存在</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">学习笔记</a> <a href="/tags/%E5%AE%9E%E4%BE%8B/" style="font-size: 10px;">实例</a> <a href="/tags/%E5%AE%B9%E5%99%A8/" style="font-size: 10px;">容器</a> <a href="/tags/%E5%B7%A5%E4%BD%9C%E6%B5%81/" style="font-size: 10.91px;">工作流</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 10px;">工具</a> <a href="/tags/%E5%B8%AD%E6%85%95%E8%93%89/" style="font-size: 10px;">席慕蓉</a> <a href="/tags/%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">异步编程</a> <a href="/tags/%E5%BE%AE%E4%BF%A1/" style="font-size: 10px;">微信</a> <a href="/tags/%E6%8F%92%E5%85%A5/" style="font-size: 10px;">插入</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8/" style="font-size: 10px;">数据存储</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 10px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E9%9B%86%E5%90%88/" style="font-size: 10px;">数据集合</a> <a href="/tags/%E6%95%B0%E7%BB%84/" style="font-size: 10px;">数组</a> <a href="/tags/%E6%96%87%E6%A1%A3/" style="font-size: 11.82px;">文档</a> <a href="/tags/%E6%96%87%E6%A1%A3%E6%B5%81/" style="font-size: 10px;">文档流</a> <a href="/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/" style="font-size: 10px;">智能合约</a> <a href="/tags/%E6%A0%87%E7%AD%BE/" style="font-size: 10px;">标签</a> <a href="/tags/%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95/" style="font-size: 10px;">模板语法</a> <a href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81/" style="font-size: 10.91px;">比特币</a> <a href="/tags/%E6%B3%A2%E6%B5%AA%E5%AD%97%E7%AC%A6/" style="font-size: 10.91px;">波浪字符</a> <a href="/tags/%E6%B3%A8%E8%A7%A3/" style="font-size: 10.91px;">注解</a> <a href="/tags/%E7%94%A8%E6%B3%95/" style="font-size: 14.55px;">用法</a> <a href="/tags/%E7%A9%BF%E9%80%8F/" style="font-size: 10px;">穿透</a> <a href="/tags/%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8/" style="font-size: 10px;">端口占用</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 10.91px;">笔记</a> <a href="/tags/%E7%AC%A6%E5%8F%B7/" style="font-size: 10px;">符号</a> <a href="/tags/%E7%BA%A2%E9%BB%91%E6%A0%91/" style="font-size: 10px;">红黑树</a> <a href="/tags/%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80/" style="font-size: 10px;">组件基础</a> <a href="/tags/%E7%BB%91%E5%AE%9A/" style="font-size: 10px;">绑定</a> <a href="/tags/%E7%BC%96%E7%A8%8B/" style="font-size: 10px;">编程</a> <a href="/tags/%E8%81%8C%E8%B4%A3%E9%93%BE%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">职责链模式</a> <a href="/tags/%E8%81%9A%E5%90%88/" style="font-size: 10.91px;">聚合</a> <a href="/tags/%E8%81%9A%E9%9B%86%E7%B4%A2%E5%BC%95/" style="font-size: 10px;">聚集索引</a> <a href="/tags/%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/" style="font-size: 10px;">自定义指令</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7/" style="font-size: 10px;">计算属性</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10.91px;">设计模式</a> <a href="/tags/%E8%BF%9B%E7%A8%8B/" style="font-size: 10.91px;">进程</a> <a href="/tags/%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80/" style="font-size: 10px;">远程仓库地址</a> <a href="/tags/%E9%80%BB%E8%BE%91%E6%93%8D%E4%BD%9C%E7%AC%A6/" style="font-size: 10px;">逻辑操作符</a> <a href="/tags/%E9%83%A8%E7%BD%B2/" style="font-size: 10px;">部署</a> <a href="/tags/%E9%9A%BE%E5%BA%A6/" style="font-size: 10px;">难度</a> <a href="/tags/%E9%9B%86%E5%90%88/" style="font-size: 10px;">集合</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">八月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">二月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">十月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">九月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/04/16/python/python-package-module/">Python 的 module 和 package</a>
          </li>
        
          <li>
            <a href="/2020/03/05/mysql/mysql-ddl-note/">MySQL 的 DDL 的一些整理</a>
          </li>
        
          <li>
            <a href="/2020/02/16/java/mybatis-mapper-locations/">MyBatis 的 mapper-locations 引发的</a>
          </li>
        
          <li>
            <a href="/2020/01/07/soa/microservice-article-note/">马丁富勒微服务论文学习</a>
          </li>
        
          <li>
            <a href="/2019/12/23/java/java-maven-pom-note/">pom 文件学习（未完待续）</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 荒于嬉<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>